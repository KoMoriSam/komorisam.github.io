import{S as C,z as c,o as v,c as o,e,i as g,b as B,g as r,h as V,T as N,t as s,F as d,E as p,d as t,f as b,B as u,D as y,U as q,V as w}from"./index-CQRMPfKr.js";import{_ as z}from"./Loading-DxYWjDHu.js";import{_ as D}from"./ToTop-Bq2AIyxE.js";const S={class:"m-12"},T={class:"mx-auto prose"},E={key:1,class:"text-error"},F={class:"mt-0"},L={class:"text-primary"},$={class:"badge badge-sm text-base-content/50 mb-1"},j={key:0,class:"ml-2"},M={class:"badge badge-xs text-base-content/50"},O={key:0,class:"mt-3 text-sm"},J={__name:"Changelog",setup(U){const l=C(),x=c(()=>l.data),k=c(()=>l.loading),m=c(()=>l.error);return v(async()=>{Object.keys(l.data).length===0&&await l.fetchChangelog()}),(A,n)=>{const f=N("router-link");return t(),o(d,null,[e("main",S,[e("article",T,[e("h1",null,[n[1]||(n[1]=r(" 更新日志 ")),g(f,{class:"btn btn-xs no-underline mb-px",to:"/"},{default:V(()=>n[0]||(n[0]=[r(" 返回主页 ")])),_:1})]),k.value?(t(),B(z,{key:0,size:"my-32"})):m.value?(t(),o("div",E,s(m.value),1)):(t(!0),o(d,{key:2},p(x.value,(a,_)=>(t(),o("section",{key:_},[e("h2",F,[e("span",L,s(_),1),r(" - "+s(a.title)+" ",1),e("span",$,s(a.releaseDate),1)]),e("ul",null,[(t(!0),o(d,null,p(a.changelog,(i,h)=>(t(),o("li",{key:h},[e("strong",{class:u(["badge badge-soft",y(q)(i.type)])},s(y(w)(i.type)),3),r(" "+s(i.description)+" ",1),i.impact?(t(),o("span",j,[e("span",M," 影响 "+s(i.impact),1)])):b("",!0)]))),128))]),a.migration?(t(),o("p",O,[e("span",{class:u(["badge badge-xs",a.migration.required?"badge-warning":"badge-success"])},[e("i",{class:u(a.migration.required?"ri-alert-line":"ri-check-line")},null,2),r(" "+s(a.migration.required?"包含迁移操作":"无迁移操作"),1)],2),r(" "+s(a.migration.note||""),1)])):b("",!0),n[2]||(n[2]=e("div",{class:"divider"},null,-1))]))),128))])]),g(D)],64)}}};export{J as default};
