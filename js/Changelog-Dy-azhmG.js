import{O as C,n as c,f as w,l as r,a as e,b as _,c as B,d as n,w as L,r as N,v as s,F as d,z as b,o as t,m as f,x as u}from"./index-kqSDfL5-.js";import{L as V}from"./Loading-B29Q8LLt.js";import{_ as q}from"./ToTop-Bie5On6o.js";const z={class:"m-12"},D={class:"mx-auto prose"},F={key:1,class:"text-error"},O={class:"mt-0"},S={class:"text-primary"},j={class:"badge badge-sm text-base-content/50 mb-1"},E={key:0,class:"ml-2"},M={class:"badge badge-xs text-base-content/50"},T={key:0,class:"mt-3 text-sm"},I={__name:"Changelog",setup($){const l=C(),x=c(()=>l.data),y=c(()=>l.loading),g=c(()=>l.error);w(async()=>{Object.keys(l.data).length===0&&await l.fetchChangelog()});function k(m){switch(m){case"feature":return"badge-warning";case"bugfix":return"badge-error";case"ui":return"badge-secondary";case"performance":return"badge-success";case"refactor":return"badge-primary";default:return"badge-info"}}return(m,o)=>{const h=N("router-link");return t(),r(d,null,[e("main",z,[e("article",D,[e("h1",null,[o[1]||(o[1]=n(" 更新日志 ")),_(h,{class:"btn btn-xs no-underline mb-px",to:"/"},{default:L(()=>o[0]||(o[0]=[n(" 返回主页 ")])),_:1})]),y.value?(t(),B(V,{key:0})):g.value?(t(),r("div",F,s(g.value),1)):(t(!0),r(d,{key:2},b(x.value,(a,p)=>(t(),r("section",{key:p},[e("h2",O,[e("span",S,s(p),1),n(" - "+s(a.title)+" ",1),e("span",j,s(a.releaseDate),1)]),e("ul",null,[(t(!0),r(d,null,b(a.changelog,(i,v)=>(t(),r("li",{key:v},[e("strong",{class:u(["badge badge-soft",k(i.type)])},s(i.type),3),n(" "+s(i.description)+" ",1),i.impact?(t(),r("span",E,[e("span",M," 影响 "+s(i.impact),1)])):f("",!0)]))),128))]),a.migration?(t(),r("p",T,[e("span",{class:u(["badge badge-xs",a.migration.required?"badge-warning":"badge-success"])},[e("i",{class:u(a.migration.required?"ri-alert-line":"ri-check-line")},null,2),n(" "+s(a.migration.required?"包含迁移操作":"无迁移操作"),1)],2),n(" "+s(a.migration.note||""),1)])):f("",!0),o[2]||(o[2]=e("div",{class:"divider"},null,-1))]))),128))])]),_(q)],64)}}};export{I as default};
