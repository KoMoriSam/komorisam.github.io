import{_ as g}from"./BasePage-BfpGCDZ6.js";import{_ as p}from"./Loading-CVr96Jf9.js";import{u as f,r as b,o as h,a as y,c as i,b as _,d as t,e,f as c,g as o,w as k,t as n,h as x,i as u,j as v}from"./index-7ujc1YYt.js";import"./FootBar-CaNXg9Tf.js";import"./ToTop-B9wKlxVg.js";function w(){return{getServerInfo:async()=>{const{data:l,error:s}=await f("https://list.mczfw.cn/api/frp-ice.com:31024").json();if(s.value)throw new Error("获取服务器信息失败");return l.value}}}const S={key:0,class:"prose prose-sm"},I={class:"stats stats-vertical lg:stats-horizontal bg-primary-content text-primary shadow"},B={class:"stat"},C={class:"stat-value text-xs"},N=["src"],V={class:"stat-desc"},$={class:"stat"},z={class:"stat-title"},A={key:0,class:"inline-grid *:[grid-area:1/1]"},D={key:1,class:"inline-grid *:[grid-area:1/1]"},H={class:"stat-value my-5"},M={class:"stat-desc"},P={key:0,class:"stat"},j={class:"stat-value my-5"},E={class:"stat-desc"},L={key:0,class:"badge badge-sm badge-error"},F={key:1,class:"badge badge-sm badge-warning"},K={key:2,class:"badge badge-sm badge-success"},T={key:1,class:"stat"},q={class:"stat-value my-5"},G={class:"stat-desc"},J={key:0,class:"badge badge-sm badge-error"},O={key:1,class:"badge badge-sm badge-warning"},Q={key:2,class:"badge badge-sm badge-success"},R={__name:"ServerInfo",setup(d){const{getServerInfo:l}=w(),s=b(null);return h(async()=>{/HeadlessChrome|Prerender/i.test(navigator.userAgent)||(s.value=await l())}),(r,a)=>{const m=y("fade-in");return s.value?(t(),i("section",S,[e("div",I,[e("div",B,[a[0]||(a[0]=e("div",{class:"stat-title"},[e("i",{class:"ri-hard-drive-3-line"}),o(" 服务器 ")],-1)),e("div",C,[k(e("img",{src:s.value.logo,alt:"Logo of Server",class:"mask mask-circle w-12",title:"服务器 Logo"},null,8,N),[[m]])]),e("div",V,n(s.value.city),1)]),e("div",$,[e("div",z,[s.value.ping===null?(t(),i("div",A,a[1]||(a[1]=[e("div",{class:"status status-error animate-ping"},null,-1),e("div",{class:"status status-error"},null,-1)]))):(t(),i("div",D,a[2]||(a[2]=[e("div",{class:"status status-success animate-ping"},null,-1),e("div",{class:"status status-success"},null,-1)]))),a[3]||(a[3]=o(" 当前状态 "))]),e("div",H,n(s.value.ping===null?"离线":"在线"),1),e("div",M,n(s.value.motd),1)]),s.value.ping!==null?(t(),i("div",P,[a[4]||(a[4]=e("div",{class:"stat-title"},[e("i",{class:"ri-user-3-line"}),o(" 在线人数 ")],-1)),e("div",j,n(s.value.p)+" / "+n(s.value.mp),1),e("div",E,[s.value.p/s.value.mp>=.75?(t(),i("span",L," 忙碌 ")):s.value.p/s.value.mp>=.4?(t(),i("span",F," 活跃 ")):(t(),i("span",K,"空闲"))])])):c("",!0),s.value.ping!==null?(t(),i("div",T,[a[5]||(a[5]=e("div",{class:"stat-title"},[e("i",{class:"ri-timer-line"}),o(" 网络延迟 ")],-1)),e("div",q,n(s.value.ping)+" ms",1),e("div",G,[s.value.ping>200||s.value.ping===null?(t(),i("span",J," 高 ")):s.value.ping>100?(t(),i("span",O," 中 ")):(t(),i("span",Q,"低"))])])):c("",!0)])])):(t(),_(p,{key:1,size:"h-42"}))}}},U={class:"text-xs lg:text-sm text-base-content/50"},es={__name:"Home",setup(d){return(l,s)=>{const r=x("router-link");return t(),_(g,{imageSrc:"/assets/images/profile/me1.png",imageAlt:"Hello Me!",title:"你好！",description:"这是 KoMoriSam 的个人网站"},{default:u(()=>[s[2]||(s[2]=e("p",null,"在这里会分享一些正在做的小玩意",-1)),v(R),e("small",U,[v(r,{class:"btn btn-xs no-underline my-4",to:"/changelog"},{default:u(()=>s[0]||(s[0]=[o(" 更新日志 ")])),_:1}),s[1]||(s[1]=e("p",null,[o(" 在找旧版网页？ "),e("a",{class:"btn btn-primary btn-soft btn-xs no-underline mb-px",href:"/archive/home/index.html"}," 这里跳转 ")],-1))])]),_:1})}}};export{es as default};
