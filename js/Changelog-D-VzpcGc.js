import{P as v,n as c,f as C,l as a,a as e,c as w,d as o,b as B,w as L,r as N,v as r,F as p,z as b,o as t,m as _,x as V}from"./index-A3Pz7xm3.js";import{L as z}from"./Loading-B0eHi25u.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const D={class:"m-12"},F={class:"mx-auto prose"},S={key:1,class:"text-error"},j={class:"mt-0"},q={class:"text-primary"},E={class:"badge badge-sm text-base-content/50 mb-1"},M={key:0,class:"ml-2"},O={class:"badge badge-xs text-base-content/50"},P={key:0,class:"mt-3 text-sm"},I={__name:"Changelog",setup(T){const n=v(),f=c(()=>n.data),x=c(()=>n.loading),d=c(()=>n.error);C(async()=>{Object.keys(n.data).length===0&&await n.fetchChangelog()});function y(u){switch(u){case"feature":return"badge-warning";case"bugfix":return"badge-error";case"ui":return"badge-secondary";case"performance":return"badge-success";case"refactor":return"badge-primary";default:return"badge-info"}}return(u,s)=>{const k=N("router-link");return t(),a("main",D,[e("article",F,[e("h1",null,[s[1]||(s[1]=o(" 更新日志 ")),B(k,{class:"btn btn-xs no-underline mb-px",to:"/"},{default:L(()=>s[0]||(s[0]=[o(" 返回主页 ")])),_:1})]),x.value?(t(),w(z,{key:0})):d.value?(t(),a("div",S,r(d.value),1)):(t(!0),a(p,{key:2},b(f.value,(l,g)=>{var m;return t(),a("section",{key:g},[e("h2",j,[e("span",q,r(g),1),o(" - "+r(l.title)+" ",1),e("span",E,r(l.releaseDate),1)]),e("ul",null,[(t(!0),a(p,null,b(l.changelog,(i,h)=>(t(),a("li",{key:h},[e("strong",{class:V(["badge badge-soft",y(i.type)])},r(i.type),3),o(" "+r(i.description)+" ",1),i.impact?(t(),a("span",M,[e("span",O," 影响 "+r(i.impact),1)])):_("",!0)]))),128))]),(m=l.migration)!=null&&m.required?(t(),a("p",P,[s[2]||(s[2]=e("span",{class:"badge badge-xs badge-warning"},[e("i",{class:"ri-alert-line"}),o(" 此版本包含迁移操作 ")],-1)),o(" "+r(l.migration.note||"需要清除旧数据"),1)])):_("",!0),s[3]||(s[3]=e("div",{class:"divider"},null,-1))])}),128))])])}}};export{I as default};
