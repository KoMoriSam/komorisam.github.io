import{O as h,l as i,e as v,j as t,a as e,c as C,t as a,F as m,x as b,o as s,k as _,b as c,q as w}from"./index-TiVpiicX.js";import{L as B}from"./Loading-CDYWkfqI.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const L={class:"m-12"},N={class:"mx-auto prose"},V={key:1,class:"text-error"},j={class:"mt-0"},q={class:"text-primary"},D={class:"badge badge-sm text-base-content/50 mb-1"},F={key:0,class:"ml-2"},O={class:"badge badge-xs text-base-content/50"},S={key:0,class:"mt-3 text-sm"},A={__name:"Changelog",setup(z){const o=h(),y=i(()=>o.data),f=i(()=>o.loading),d=i(()=>o.error);v(async()=>{Object.keys(o.data).length===0&&await o.fetchChangelog()});function x(u){switch(u){case"feature":return"badge-warning";case"bugfix":return"badge-error";case"ui":return"badge-secondary";case"performance":return"badge-success";case"refactor":return"badge-primary";default:return"badge-info"}}return(u,r)=>(s(),t("main",L,[e("article",N,[r[2]||(r[2]=e("h1",null,"更新日志",-1)),f.value?(s(),C(B,{key:0})):d.value?(s(),t("div",V,a(d.value),1)):(s(!0),t(m,{key:2},b(y.value,(n,g)=>{var p;return s(),t("section",{key:g},[e("h2",j,[e("span",q,a(g),1),c(" - "+a(n.title)+" ",1),e("span",D,a(n.releaseDate),1)]),e("ul",null,[(s(!0),t(m,null,b(n.changelog,(l,k)=>(s(),t("li",{key:k},[e("strong",{class:w(["badge badge-soft",x(l.type)])},a(l.type),3),c(" "+a(l.description)+" ",1),l.impact?(s(),t("span",F,[e("span",O," 影响 "+a(l.impact),1)])):_("",!0)]))),128))]),(p=n.migration)!=null&&p.required?(s(),t("p",S,[r[0]||(r[0]=e("span",{class:"badge badge-xs badge-warning"},[e("i",{class:"ri-alert-line"}),c(" 此版本包含迁移操作 ")],-1)),c(" "+a(n.migration.note||"需要清除旧数据"),1)])):_("",!0),r[1]||(r[1]=e("div",{class:"divider"},null,-1))])}),128))])]))}};export{A as default};
