import{_ as g}from"./BasePage-CWApDePD.js";import{_ as p}from"./Loading-Bfcl4v_X.js";import{u as f,r as b,o as h,a as y,c as i,b as _,d as e,e as t,f as c,g as o,w as k,t as n,h as x,i as u,j as v}from"./index-BlbMISrf.js";import"./FootBar-DM7cxfZF.js";import"./ToTop-C5erqNl7.js";function w(){return{getServerInfo:async()=>{const{data:l,error:s}=await f("https://list.mczfw.cn/api/frp-ice.com:31024").json();if(s.value)throw new Error("获取服务器信息失败");return l.value}}}const S={key:0,class:"prose prose-sm"},I={class:"stats stats-vertical lg:stats-horizontal bg-primary-content text-primary shadow"},B={class:"stat"},N={class:"stat-value text-xs"},V=["src"],$={class:"stat-desc"},z={class:"stat"},C={class:"stat-title"},D={key:0,class:"inline-grid *:[grid-area:1/1]"},M={key:1,class:"inline-grid *:[grid-area:1/1]"},j={class:"stat-value my-5"},A={class:"stat-desc"},E={key:0,class:"stat"},H={class:"stat-value my-5"},L={class:"stat-desc"},F={key:0,class:"badge badge-sm badge-error"},K={key:1,class:"badge badge-sm badge-warning"},T={key:2,class:"badge badge-sm badge-success"},q={key:1,class:"stat"},G={class:"stat-value my-5"},J={class:"stat-desc"},O={key:0,class:"badge badge-sm badge-error"},P={key:1,class:"badge badge-sm badge-warning"},Q={key:2,class:"badge badge-sm badge-success"},R={__name:"ServerInfo",setup(r){const{getServerInfo:l}=w(),s=b(null);return h(async()=>{s.value=await l()}),(d,a)=>{const m=y("fade-in");return s.value?(e(),i("section",S,[t("div",I,[t("div",B,[a[0]||(a[0]=t("div",{class:"stat-title"},[t("i",{class:"ri-hard-drive-3-line"}),o(" 服务器 ")],-1)),t("div",N,[k(t("img",{src:s.value.logo,alt:"Logo of Server",class:"mask mask-circle w-12",title:"服务器 Logo"},null,8,V),[[m]])]),t("div",$,n(s.value.city),1)]),t("div",z,[t("div",C,[s.value.ping===null?(e(),i("div",D,a[1]||(a[1]=[t("div",{class:"status status-error animate-ping"},null,-1),t("div",{class:"status status-error"},null,-1)]))):(e(),i("div",M,a[2]||(a[2]=[t("div",{class:"status status-success animate-ping"},null,-1),t("div",{class:"status status-success"},null,-1)]))),a[3]||(a[3]=o(" 当前状态 "))]),t("div",j,n(s.value.ping===null?"离线":"在线"),1),t("div",A,n(s.value.motd),1)]),s.value.ping!==null?(e(),i("div",E,[a[4]||(a[4]=t("div",{class:"stat-title"},[t("i",{class:"ri-user-3-line"}),o(" 在线人数 ")],-1)),t("div",H,n(s.value.p)+" / "+n(s.value.mp),1),t("div",L,[s.value.p/s.value.mp>=.75?(e(),i("span",F," 忙碌 ")):s.value.p/s.value.mp>=.4?(e(),i("span",K," 活跃 ")):(e(),i("span",T,"空闲"))])])):c("",!0),s.value.ping!==null?(e(),i("div",q,[a[5]||(a[5]=t("div",{class:"stat-title"},[t("i",{class:"ri-timer-line"}),o(" 网络延迟 ")],-1)),t("div",G,n(s.value.ping)+" ms",1),t("div",J,[s.value.ping>200||s.value.ping===null?(e(),i("span",O," 高 ")):s.value.ping>100?(e(),i("span",P," 中 ")):(e(),i("span",Q,"低"))])])):c("",!0)])])):(e(),_(p,{key:1,size:"h-42"}))}}},U={class:"text-xs lg:text-sm text-base-content/50"},ts={__name:"Home",setup(r){return(l,s)=>{const d=x("router-link");return e(),_(g,{imageSrc:"/assets/images/profile/me1.png",imageAlt:"Hello Me!",title:"你好！",description:"这是 KoMoriSam 的个人网站"},{default:u(()=>[s[2]||(s[2]=t("p",null,"在这里会分享一些正在做的小玩意",-1)),v(R),t("small",U,[v(d,{class:"btn btn-xs no-underline my-4",to:"/changelog"},{default:u(()=>s[0]||(s[0]=[o(" 更新日志 ")])),_:1}),s[1]||(s[1]=t("p",null,[o(" 在找旧版网页？ "),t("a",{class:"btn btn-primary btn-soft btn-xs no-underline mb-px",href:"/archive/home/index.html"}," 这里跳转 ")],-1))])]),_:1})}}};export{ts as default};
