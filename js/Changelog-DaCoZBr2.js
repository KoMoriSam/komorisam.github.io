import{R as C,z as u,o as B,c as s,e,i as b,b as N,g as i,h as V,S as q,t as o,F as _,D as y,d as t,f as m,B as n,C as f,T as w,U as z}from"./index-uwY09whu.js";import{_ as D}from"./Loading-h7EsmsJU.js";import{_ as S}from"./ToTop-4nwhv1Cp.js";const T={class:"my-12 mx-6 md:mx-12"},j={class:"mx-auto prose"},F={key:1,class:"text-error"},L={key:2,class:"timeline timeline-snap-icon timeline-compact timeline-vertical p-0"},O={key:0},$={class:"timeline-middle"},E={class:"timeline-end m-0"},M={class:"ml-1.5 my-2!"},R={class:"pl-2"},U={key:0,class:"ml-1.5 mt-4 text-sm"},A={class:"ml-1.5 text-base-content/50 text-sm"},G={key:0,class:"ri-information-line"},H={key:1},W={__name:"Changelog",setup(I){const l=C(),g=u(()=>l.data),k=u(()=>l.loading),p=u(()=>l.error);return B(async()=>{Object.keys(l.data).length===0&&await l.fetchChangelog()}),(J,c)=>{const x=q("router-link");return t(),s(_,null,[e("main",T,[e("article",j,[e("h1",null,[c[1]||(c[1]=i(" 更新日志 ")),b(x,{class:"btn btn-xs no-underline mb-px",to:"/"},{default:V(()=>c[0]||(c[0]=[i(" 返回主页 ")])),_:1})]),k.value?(t(),N(D,{key:0,size:"my-32"})):p.value?(t(),s("div",F,o(p.value),1)):(t(),s("ul",L,[(t(!0),s(_,null,y(g.value,(a,h,r)=>(t(),s("li",{class:"m-0! p-0!",key:h},[r!==0?(t(),s("hr",O)):m("",!0),e("div",$,[e("i",{class:n(["ri-checkbox-circle-fill text-xl",r===0?"text-primary":""])},null,2)]),e("div",E,[e("strong",{class:n(["badge badge-lg badge-primary mt-2 ml-1.5",r===0?"":"badge-outline"])},o(h),3),e("time",{class:n(["badge badge-info font-mono mt-2 ml-1.5",r===0?"badge-soft":"badge-outline"])},o(a.releaseDate),3),e("h2",M,o(a.title),1),e("ul",R,[(t(!0),s(_,null,y(a.changelog,(d,v)=>(t(),s("li",{class:"list-none",key:v},[e("strong",{class:n(["badge badge-soft",f(w)(d.type)])},o(f(z)(d.type)),3),i(" "+o(d.description),1)]))),128))]),a.migration?(t(),s("p",U,[e("span",{class:n(["badge badge-sm",a.migration.required?"badge-warning":"badge-success"])},[e("i",{class:n(a.migration.required?"ri-alert-line":"ri-check-line")},null,2),i(" "+o(a.migration.required?"包含迁移操作":"无迁移操作"),1)],2)])):m("",!0),e("p",A,[a.migration.note?(t(),s("i",G)):m("",!0),i(" "+o(a.migration.note||""),1)])]),r!==Object.keys(g.value).length-1?(t(),s("hr",H)):m("",!0)]))),128))]))])]),b(S)],64)}}};export{W as default};
