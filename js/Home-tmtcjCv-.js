import{_}from"./BasePage-DLiCZuOL.js";import{L as p}from"./Loading-hfgZOr9t.js";import{u as m,r as b,o as f,c as o,a as g,b as e,d as t,e as c,f as i,t as n,g as h,w as u,h as v}from"./index-CNf_bIjw.js";import"./FootBar-CGJsFWZb.js";import"./ToTop-LTlL7NRh.js";function k(){return{getServerInfo:async()=>{const{data:l,error:s}=await m("https://list.mczfw.cn/api/frp-ice.com:31024").json();if(s.value)throw new Error("获取服务器信息失败");return l.value}}}const y={key:0,class:"prose prose-sm"},x={class:"stats stats-vertical lg:stats-horizontal bg-base-100 shadow"},w={class:"stat"},S={class:"stat-value"},I=["src"],B={class:"stat"},L={class:"stat-title"},N={key:0,class:"inline-grid *:[grid-area:1/1]"},V={key:1,class:"inline-grid *:[grid-area:1/1]"},C={class:"stat-value"},M={class:"stat-desc"},$={key:0,class:"stat"},z={class:"stat-value"},A={class:"stat-desc"},E={key:0,class:"badge badge-sm badge-error"},H={key:1,class:"badge badge-sm badge-warning"},j={key:2,class:"badge badge-sm badge-success"},D={key:1,class:"stat"},F={class:"stat-value"},K={class:"stat-desc"},T={key:0,class:"badge badge-sm badge-error"},q={key:1,class:"badge badge-sm badge-warning"},G={key:2,class:"badge badge-sm badge-success"},J={__name:"ServerInfo",setup(r){const{getServerInfo:l}=k(),s=b(null);return f(async()=>{s.value=await l()}),(d,a)=>s.value?(e(),o("section",y,[t("div",x,[t("div",w,[a[0]||(a[0]=t("div",{class:"stat-title"},"服务器",-1)),t("div",S,[t("img",{src:s.value.logo,alt:"Logo of Server",class:"mask mask-circle",title:"服务器 Logo"},null,8,I)])]),t("div",B,[t("div",L,[s.value.ping===null?(e(),o("div",N,a[1]||(a[1]=[t("div",{class:"status status-error animate-ping"},null,-1),t("div",{class:"status status-error"},null,-1)]))):(e(),o("div",V,a[2]||(a[2]=[t("div",{class:"status status-success animate-ping"},null,-1),t("div",{class:"status status-success"},null,-1)]))),a[3]||(a[3]=i(" 当前状态 "))]),t("div",C,n(s.value.ping===null?"离线":"在线"),1),t("div",M,n(s.value.motd),1)]),!s.value.ping===null?(e(),o("div",$,[a[4]||(a[4]=t("div",{class:"stat-title"},"在线人数",-1)),t("div",z,n(s.value.p)+" / "+n(s.value.mp),1),t("div",A,[s.value.p/s.value.mp>=.75?(e(),o("span",E," 忙碌 ")):s.value.p/s.value.mp>=.4?(e(),o("span",H," 活跃 ")):(e(),o("span",j,"空闲"))])])):c("",!0),!s.value.ping===null?(e(),o("div",D,[a[5]||(a[5]=t("div",{class:"stat-title"},"延迟",-1)),t("div",F,n(s.value.ping)+" ms",1),t("div",K,[s.value.ping>200||s.value.ping===null?(e(),o("span",T," 高 ")):s.value.ping>100?(e(),o("span",q," 中 ")):(e(),o("span",G,"低"))])])):c("",!0)])])):(e(),g(p,{key:1}))}},O={class:"text-xs lg:text-sm text-base-content/50"},X={__name:"Home",setup(r){return(l,s)=>{const d=h("router-link");return e(),g(_,{imageSrc:"/assets/images/profile/me1.png",imageAlt:"Hello Me!",title:"你好！",description:"这是 KoMoriSam 的个人网站"},{default:u(()=>[s[2]||(s[2]=t("p",null,"在这里会分享一些正在做的小玩意",-1)),v(J),t("small",O,[v(d,{class:"btn btn-xs no-underline my-4",to:"/changelog"},{default:u(()=>s[0]||(s[0]=[i(" 更新日志 ")])),_:1}),s[1]||(s[1]=t("p",null,[i(" 在找旧版网页？ "),t("a",{class:"btn btn-primary btn-soft btn-xs no-underline mb-px",href:"/archive/home/index.html"}," 这里跳转 ")],-1))])]),_:1})}}};export{X as default};
