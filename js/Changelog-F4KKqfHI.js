import{T as C,z as u,o as B,c as s,e,i as b,b as V,g as i,h as N,U as q,t as o,F as _,D as y,d as t,f as m,B as n,C as f,V as w,W as z}from"./index-Bsz0k0af.js";import{_ as D}from"./Loading-BmGRRZ36.js";import{_ as T}from"./ToTop-Cay99gJa.js";const j={class:"my-12 mx-6 md:mx-12"},F={class:"mx-auto prose"},L={key:1,class:"text-error"},O={key:2,class:"timeline timeline-snap-icon timeline-compact timeline-vertical p-0"},S={key:0},$={class:"timeline-middle"},E={class:"timeline-end m-0"},M={class:"ml-1.5 my-2!"},U={class:"pl-2"},W={key:0,class:"ml-1.5 mt-4 text-sm"},A={class:"ml-1.5 text-base-content/50 text-sm"},G={key:0,class:"ri-information-line"},H={key:1},R={__name:"Changelog",setup(I){const l=C(),g=u(()=>l.data),k=u(()=>l.loading),p=u(()=>l.error);return B(async()=>{Object.keys(l.data).length===0&&await l.fetchChangelog()}),(J,c)=>{const x=q("router-link");return t(),s(_,null,[e("main",j,[e("article",F,[e("h1",null,[c[1]||(c[1]=i(" 更新日志 ")),b(x,{class:"btn btn-xs no-underline mb-px",to:"/"},{default:N(()=>c[0]||(c[0]=[i(" 返回主页 ")])),_:1})]),k.value?(t(),V(D,{key:0,size:"my-32"})):p.value?(t(),s("div",L,o(p.value),1)):(t(),s("ul",O,[(t(!0),s(_,null,y(g.value,(a,h,r)=>(t(),s("li",{class:"m-0! p-0!",key:h},[r!==0?(t(),s("hr",S)):m("",!0),e("div",$,[e("i",{class:n(["ri-checkbox-circle-fill text-xl",r===0?"text-primary":""])},null,2)]),e("div",E,[e("strong",{class:n(["badge badge-lg badge-primary mt-2 ml-1.5",r===0?"":"badge-outline"])},o(h),3),e("time",{class:n(["badge badge-info font-mono mt-2 ml-1.5",r===0?"badge-soft":"badge-outline"])},o(a.releaseDate),3),e("h2",M,o(a.title),1),e("ul",U,[(t(!0),s(_,null,y(a.changelog,(d,v)=>(t(),s("li",{class:"list-none",key:v},[e("strong",{class:n(["badge badge-soft",f(w)(d.type)])},o(f(z)(d.type)),3),i(" "+o(d.description),1)]))),128))]),a.migration?(t(),s("p",W,[e("span",{class:n(["badge badge-sm",a.migration.required?"badge-warning":"badge-success"])},[e("i",{class:n(a.migration.required?"ri-alert-line":"ri-check-line")},null,2),i(" "+o(a.migration.required?"包含迁移操作":"无迁移操作"),1)],2)])):m("",!0),e("p",A,[a.migration.note?(t(),s("i",G)):m("",!0),i(" "+o(a.migration.note||""),1)])]),r!==Object.keys(g.value).length-1?(t(),s("hr",H)):m("",!0)]))),128))]))])]),b(T)],64)}}};export{R as default};
