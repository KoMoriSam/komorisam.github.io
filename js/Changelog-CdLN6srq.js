import{S as C,z as _,o as B,c as s,e,i as y,b as V,g as n,h as N,T as q,t as o,F as u,E as b,d as t,f as d,B as r,D as k,U as w,V as z}from"./index-E7dcdmb3.js";import{_ as D}from"./Loading-DOpu6qJu.js";import{_ as S}from"./ToTop-CRQtE_4H.js";const T={class:"m-12"},j={class:"mx-auto prose"},E={key:1,class:"text-error"},F={key:2,class:"timeline timeline-snap-icon timeline-compact timeline-vertical p-0"},L={key:0},O={class:"timeline-middle"},$={class:"timeline-end m-0"},M={class:"badge badge-outline font-mono mt-2"},U={class:"my-2!"},A={class:"pl-3"},G={key:0,class:"mt-3 text-sm"},H={class:"text-base-content/50 text-sm"},I={key:0,class:"ri-information-line"},J={key:1},X={__name:"Changelog",setup(K){const l=C(),g=_(()=>l.data),f=_(()=>l.loading),p=_(()=>l.error);return B(async()=>{Object.keys(l.data).length===0&&await l.fetchChangelog()}),(P,i)=>{const x=q("router-link");return t(),s(u,null,[e("main",T,[e("article",j,[e("h1",null,[i[1]||(i[1]=n(" 更新日志 ")),y(x,{class:"btn btn-xs no-underline mb-px",to:"/"},{default:N(()=>i[0]||(i[0]=[n(" 返回主页 ")])),_:1})]),f.value?(t(),V(D,{key:0,size:"my-32"})):p.value?(t(),s("div",E,o(p.value),1)):(t(),s("ul",F,[(t(!0),s(u,null,b(g.value,(a,h,c)=>(t(),s("li",{class:"m-0! p-0!",key:h},[c!==0?(t(),s("hr",L)):d("",!0),e("div",O,[e("i",{class:r(["ri-checkbox-circle-fill text-xl",c===0?"text-primary":""])},null,2)]),e("div",$,[e("time",M,o(a.releaseDate),1),e("h2",U,[e("strong",{class:r(["badge badge-lg",c===0?"badge-primary":""])},o(h),3),n(" "+o(a.title),1)]),e("ul",A,[(t(!0),s(u,null,b(a.changelog,(m,v)=>(t(),s("li",{class:"list-none",key:v},[e("strong",{class:r(["badge badge-soft",k(w)(m.type)])},o(k(z)(m.type)),3),n(" "+o(m.description),1)]))),128))]),a.migration?(t(),s("p",G,[e("span",{class:r(["badge badge-sm",a.migration.required?"badge-warning":"badge-success"])},[e("i",{class:r(a.migration.required?"ri-alert-line":"ri-check-line")},null,2),n(" "+o(a.migration.required?"包含迁移操作":"无迁移操作"),1)],2)])):d("",!0),e("p",H,[a.migration.note?(t(),s("i",I)):d("",!0),n(" "+o(a.migration.note||""),1)])]),c!==Object.keys(g.value).length-1?(t(),s("hr",J)):d("",!0)]))),128))]))])]),y(S)],64)}}};export{X as default};
