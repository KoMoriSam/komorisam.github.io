import{O as w,n as u,f as B,l as r,a as e,b as _,c as L,d as o,w as N,r as V,v as t,F as d,z as b,o as s,m as f,x as g}from"./index-Cxrerytd.js";import{L as q}from"./Loading-J850Z5Wt.js";import{_ as z}from"./ToTop-B991c6iW.js";const D={class:"m-12"},F={class:"mx-auto prose"},O={key:1,class:"text-error"},S={class:"mt-0"},T={class:"text-primary"},j={class:"badge badge-sm text-base-content/50 mb-1"},E={key:0,class:"ml-2"},M={class:"badge badge-xs text-base-content/50"},$={key:0,class:"mt-3 text-sm"},J={__name:"Changelog",setup(A){const c=w(),x=u(()=>c.data),y=u(()=>c.loading),m=u(()=>c.error);B(async()=>{Object.keys(c.data).length===0&&await c.fetchChangelog()});function k(l){switch(l){case"feature":return"badge-warning";case"bugfix":return"badge-error";case"ui":return"badge-secondary";case"performance":return"badge-success";case"refactor":return"badge-primary";default:return"badge-info"}}function h(l){switch(l){case"feature":return"功能";case"bugfix":return"修复";case"ui":return"界面";case"performance":return"优化";case"refactor":return"重构";default:return"其他"}}return(l,n)=>{const v=V("router-link");return s(),r(d,null,[e("main",D,[e("article",F,[e("h1",null,[n[1]||(n[1]=o(" 更新日志 ")),_(v,{class:"btn btn-xs no-underline mb-px",to:"/"},{default:N(()=>n[0]||(n[0]=[o(" 返回主页 ")])),_:1})]),y.value?(s(),L(q,{key:0})):m.value?(s(),r("div",O,t(m.value),1)):(s(!0),r(d,{key:2},b(x.value,(a,p)=>(s(),r("section",{key:p},[e("h2",S,[e("span",T,t(p),1),o(" - "+t(a.title)+" ",1),e("span",j,t(a.releaseDate),1)]),e("ul",null,[(s(!0),r(d,null,b(a.changelog,(i,C)=>(s(),r("li",{key:C},[e("strong",{class:g(["badge badge-soft",k(i.type)])},t(h(i.type)),3),o(" "+t(i.description)+" ",1),i.impact?(s(),r("span",E,[e("span",M," 影响 "+t(i.impact),1)])):f("",!0)]))),128))]),a.migration?(s(),r("p",$,[e("span",{class:g(["badge badge-xs",a.migration.required?"badge-warning":"badge-success"])},[e("i",{class:g(a.migration.required?"ri-alert-line":"ri-check-line")},null,2),o(" "+t(a.migration.required?"包含迁移操作":"无迁移操作"),1)],2),o(" "+t(a.migration.note||""),1)])):f("",!0),n[2]||(n[2]=e("div",{class:"divider"},null,-1))]))),128))])]),_(z)],64)}}};export{J as default};
